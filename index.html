<!DOCTYPE html>
<html lang="en" id="html">
	<meta charset="UTF-8">
	<title>ViStore</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="css/style.css">
	<body id="body">
		<span id="cover"></span>
		<main id="main">
			<img id="front_logo" src="img/logo.png">
			<div id="searcharea">
				<span id="categories-container">
					<h4 id="categories">Categories</h4>
				</span>
				<input autocomplete="off" id="searchbar" placeholder="Search the world! And buy it all!">
				<img id="search_btn" src="img/search_black_24dp.svg">
			</div>
			<div id="search_hints">
				<a>Popoular searches:</a>
				<a href="javascript: search('cars')">Cars</a>
				<a href="javascript: search('scooters')">Scooters</a>
				<a href="javascript: search('houses')">Houses</a>
				<a href="javascript: search('food')">Food</a>
				<a href="javascript: search('tennis')">Tennis</a>
				<a href="javascript: search('cola')">Cola</a>
				<a href="javascript: search('candy')">Candy</a>
				<a href="javascript: search('popcorn')">Popcorn</a>
				<a href="javascript: search('movies')">Movies</a>
			</div>
		</main>
		<footer>
			<h2 id="explore_text">Curious? Explore the world instead ></h2>
		</footer>
	</body>
	<script>
		function map(input, input_start, input_end, output_start, output_end) {
			return output_start + ((output_end - output_start) / (input_end - input_start)) * (input - input_start);
		}

		explore_text = document.getElementById("explore_text");
		cover = document.getElementById("cover");
		searchbar = document.getElementById("searchbar");
		search_btn = document.getElementById("search_btn");

		explore_text.addEventListener("click", event => {
			cover.className = ""; // this will remove any classes and therefore drag cover into the viewport
			setTimeout(function() {
				window.location.href = "/explore";
			}, 500) // this function will be executed 500ms later
		});

		function search_href() {
			val = searchbar.value;
			search(val);
		}
		function search(val) {
			cover.className = ""; // this will remove any classes and therefore drag cover into the viewport
			setTimeout(function() {
				window.location.href = "/search#q=" + val;
			}, 500) // this function will be executed 500ms later
		}

		searchbar.addEventListener("keypress", event => {
			if (event.key === 'Enter') {
				search_href();
			}
		});

		search_btn.addEventListener("click", event => {
			search_href();
		});
		window.onload = function(){
			cover.className = "";
			cover.classList.add("uncover_right");
			setTimeout(function() {
				// when animation is done, we reset by moving our cover above the viewport and back to the left
				cover.className="";
				cover.classList.add("temp_hide");
				cover.classList.add("uncover_left");
			}, 500);
		}

	</script>
</html>
