<!DOCTYPE html>
<html lang="en" id="html">
	<meta charset="UTF-8">
	<title>ViStore</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link rel="stylesheet" href="../css/style.css">
	<style>
	</style>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
		google.charts.load('current', {'packages':['corechart']});
		google.charts.setOnLoadCallback(drawChart);

		function drawChart() {
			var data = google.visualization.arrayToDataTable([
				['Day', 'Price'],
				['4',  200],
				['5',  243],
				['6',  240],
				['7',  280],
				['8',  243],
				['9',  240],
				['10', 280],
				['11',  300]
			]);

			var options = {
				title: 'Price over time',
				curveType: 'none',
				legend: { position: 'bottom' }
			};

			var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

			chart.draw(data, options);
		}
	</script>
	<body id="body">
		</div>
		<span id="cover"></span>
		<header>
			<img src="../img/logo.png">
			<div id="searcharea">
				<span id="categories-container">
					<h4 id="categories">Categories</h4>
				</span>
				<input autocomplete="off" id="searchbar" placeholder="Search the world! And buy it all!">
				<img id="search_btn" src="../img/search_black_24dp.svg">
			</div>
		</header>
		<main id="main-item">
			<span class="container">
				<span class="img" style="background-image: url('../img/car.jpeg');"></span>
				<span id="data-container">
					<h2 class="item-name">Yellow nice car - 300hp</h2>
					<span class="section_heading">
						<img src="../img/auto_graph_black_24dp.svg">
						<h3 class="item-price">Price over time</h3>
					</span>
					<span class="price-chart-container">
						<div id="curve_chart" style=""></div>
					</span>
					<span class="btn-container">
						<a id="buy-btn" href="buy">Buy now for 300kr!</a>
					</span>
					<section class="shipping-container">
						<span class="section_heading">
							<img src="../img/local_shipping_black_24dp.svg">
							<h3>Shipping</h3>
						</span>
						<span>
							<h3>20kr - DHL</h3>
							<p>Estimated delivery: 2 mar 2022</p>
						</span>
						<span>
							<h3>24kr - TR Shipping</h3>
							<p>Estimated delivery: 3 mar 2022</p>
						</span>
						<span>
							<h3>30kr - PostNord</h3>
							<p>Estimated delivery: never</p>
						</span>
						<span>
					</section>
					<section class="payment-container">
						<span class="section_heading">
							<img src="../img/account_balance_wallet_black_24dp.svg">
							<h3>Payment</h3>
						</span>
						<span class="icons">
							<img src="../img/VisaInc.svg">
							<img src="../img/Mastercard.svg">
							<img src="../img/Swish.svg">
							<img src="../img/PayPal.svg">
							<img src="../img/GooglePay.svg">
							<img src="../img/ApplePay.svg">
						</span>
						<p><b>VigSafe©</b> - Safe payments <a>Read more</a></p>
					</section>
					<section class="info-container">
						<span class="section_heading">
							<img src="../img/info_black_24dp.svg">
							<h3>Info</h3>
						</span>
						<h3>Vigor T</h3>
						<p>Enskild firma från umeå.</p>
					</section>
				</span>
				<span id="description-container">
					<span class="section_heading">
						<img src="../img/description_black_24dp.svg">
						<h3>Description</h3>
					</span>
					<p>Nice car, a lot of power, 5 seats and with a manual transmission</p>
				</span>
			</span>
		</main>
	</body>
	<script>
		function map(input, input_start, input_end, output_start, output_end) {
			return output_start + ((output_end - output_start) / (input_end - input_start)) * (input - input_start);
		}

		cover = document.getElementById("cover");
		searchbar = document.getElementById("searchbar");
		search_btn = document.getElementById("search_btn");

		function search_href() {
			val = searchbar.value;
			cover.classList.remove("uncover_left");
			setTimeout(function() {
				window.location.href = "/search#q=" + val;
			}, 500) // this function will be executed 500ms later
		}

		searchbar.addEventListener("keypress", event => {
			if (event.key === 'Enter') {
				search_href();
			}
		});

		search_btn.addEventListener("click", event => {
			search_href();
		});

		window.onload = function(){
			cover.className = "";
			cover.classList.add("uncover_right");
			searchbar.value = "";
		}
	</script>
</html>
